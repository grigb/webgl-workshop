<!DOCTYPE html>
<html>
<head>
	<title>Shader Workshop</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/app.css">

	<style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>

	<style id="ace-tomorrow-night">.ace-tomorrow-night .ace_gutter {background: #25282c;color: #C5C8C6}.ace-tomorrow-night .ace_print-margin {width: 1px;background: #25282c}.ace-tomorrow-night {background-color: #1D1F21;color: #C5C8C6}.ace-tomorrow-night .ace_cursor {color: #AEAFAD}.ace-tomorrow-night .ace_marker-layer .ace_selection {background: #373B41}.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #1D1F21;border-radius: 2px}.ace-tomorrow-night .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-tomorrow-night .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #4B4E55}.ace-tomorrow-night .ace_marker-layer .ace_active-line {background: #282A2E}.ace-tomorrow-night .ace_gutter-active-line {background-color: #282A2E}.ace-tomorrow-night .ace_marker-layer .ace_selected-word {border: 1px solid #373B41}.ace-tomorrow-night .ace_invisible {color: #4B4E55}.ace-tomorrow-night .ace_keyword,.ace-tomorrow-night .ace_meta,.ace-tomorrow-night .ace_storage,.ace-tomorrow-night .ace_storage.ace_type,.ace-tomorrow-night .ace_support.ace_type {color: #B294BB}.ace-tomorrow-night .ace_keyword.ace_operator {color: #8ABEB7}.ace-tomorrow-night .ace_constant.ace_character,.ace-tomorrow-night .ace_constant.ace_language,.ace-tomorrow-night .ace_constant.ace_numeric,.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,.ace-tomorrow-night .ace_support.ace_constant,.ace-tomorrow-night .ace_variable.ace_parameter {color: #DE935F}.ace-tomorrow-night .ace_constant.ace_other {color: #CED1CF}.ace-tomorrow-night .ace_invalid {color: #CED2CF;background-color: #DF5F5F}.ace-tomorrow-night .ace_invalid.ace_deprecated {color: #CED2CF;background-color: #B798BF}.ace-tomorrow-night .ace_fold {background-color: #81A2BE;border-color: #C5C8C6}.ace-tomorrow-night .ace_entity.ace_name.ace_function,.ace-tomorrow-night .ace_support.ace_function,.ace-tomorrow-night .ace_variable {color: #81A2BE}.ace-tomorrow-night .ace_support.ace_class,.ace-tomorrow-night .ace_support.ace_type {color: #F0C674}.ace-tomorrow-night .ace_heading,.ace-tomorrow-night .ace_markup.ace_heading,.ace-tomorrow-night .ace_string {color: #B5BD68}.ace-tomorrow-night .ace_entity.ace_name.ace_tag,.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow-night .ace_meta.ace_tag,.ace-tomorrow-night .ace_string.ace_regexp,.ace-tomorrow-night .ace_variable {color: #CC6666}.ace-tomorrow-night .ace_comment {color: #969896}.ace-tomorrow-night .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y}</style>
</head>
<body>
	<div id="top-bar">
		<div class="left-menu">
			<header>Shader Workshop</header>
		</div>
		<div class="right-menu">
			<button class="cheat-sheet">Cheat Sheet</button>
			<button class="fullscreen">Fullscreen</button>
		</div>
	</div>
	<pre id="editor" class="ace-tomorrow-night ace_dark">void main(){
    vec3 col = vec3(0);
    vec2 r = r;

    float a = angle(r);
    r += normalize(r) * a * 0.4;
    
    float len = length(r);
    
    if(length(r) < .5){
        col = vec3(uv + vec2(sin(time), cos(time))*.25, sin(time + a)*.5 + .5) * pow((.5 - length(r))*2., 1./7.);
    }
    
	gl_FragColor = vec4(col, 1.0);
}</pre>
	<div id="messages"><div class="content"></div></div>
	<canvas id="preview"></canvas>
	<div id="overlay">
		<div class="close">X</div>
		<div class="scroller">
			<div class="content">
				<div class="page">
					<h1>Shader Cheatsheet</h1>
					<h6>(just the important bits)</h6>
					<hr>
					<p>This is a quick reference for the most used bits of GLSL. Not everything is here so you can find a</p>
					<ul>
						<li><a href="https://www.khronos.org/files/webgl/webgl-reference-card-1_0.pdf" target="_blank">complete reference here</a></li>
						<li><a href="http://www.shaderific.com/glsl-functions/" target="_blank">list of built-in functions here</a></li>
					</ul>

					<h2 id="glsl-tldr">TL;DR</h2>
					<ul>
						<li>Shader code is run on each pixel separately</li>
						<li>The entry point is the functioned named main
							<pre>
void main(){
	//code starts here
}
							</pre>
						</li>

						<li>The aim is to set the value of the vector <code>gl_FragColor</code></li>
						<li>You can set vector properties with dot syntax: <code>col.r = 4.2;</code></li>
						<li>Vectors have properties <code>.x, .y, .z, .w</code></li>
						<li>You can also use <code>.r, .g, .b, .a</code></li>
						<li>Vectors are created with the following syntax <pre>vec2 point = vec2(1.3, 4.2);</pre> where the number after 'vec' sets the number of properties</li>
						<li>Most math functions are available (sin, cos, floor etc)</li>

					</ul>

					<h2 id="glsl-extras">Extra Variables and Functions</h2>
					<p>(These are variables and functions I've setup for this editor, they are not available by default in GLSL.)</p>
					<h4>Variables</h4>
					<table class="mono-title">
						<tr>
							<th>PI <span class="info">float</span></th><td><code>3.14159265359</code></td>
						</tr>
						<tr>
							<th>r <span class="info">vec2</span></th><td>Distance from center. The x-axis is scaled to account for aspect ratio. Ranges from -0.5 to 0.5 on the y-axis</td>
						</tr>
						<tr>
							<th>uv <span class="info">vec2</span></th><td>Pixel position where (0, 0) is bottom left and (1, 1) is top right</td>
						</tr>
					</table>
					<h4>Functions</h4>
					<table class="mono-title">
						<tr>
							<th>angle() <span class="info">float</span></th><td>Angle of pixel about center from 0 to 2π</td>
						</tr>
						<!--<tr>
							<th>angle(vec2 p) <span class="info">float</span></th><td>Angle of p about center from 0 to 2π</td>
						</tr>
						<tr>
							<th>angle(vec2 p, vec2 o) <span class="info">float</span></th><td>Angle of p about o from 0 to 2π</td>
						</tr>-->
					</table>

					<h2 id="glsl-language-features">Language Features</h2>
					<h4>Syntax</h4>
					<p>Function definitions require a return type and a type for each argument. For example
					<pre>
float lengthSquared(vec2 v){
	return (v.x * v.x) + (v.y * v.y) + (v.z * v.z);
}
					</pre>
					or
					<pre>
void doThing(float value1, vec4 value2){
	//does the thing
}
					</pre>
					</p>
					<h4>Types</h4>
					<table class="mono-title">
						<tr>
							<th>bool</th><td>Either <code>true</code> or <code>false</code></td>
						</tr>
						<tr>
							<th>int</th><td>Whole number (eg: <code>42</code>)</td>
						</tr>
						<tr>
							<th>float</th><td>Number with decimal point (eg: <code>6.283</code>)</td>
						</tr>
						<tr>
							<th>vec2</th><td>Vector with 2 elements, .x, .y (alternatively .r, .g)</td>
						</tr>
						<tr>
							<th>vec3</th><td>Vector with 3 elements, .x, .y, .z (alternatively .r, .g, .b)</td>
						</tr>
						<tr>
							<th>vec4</th><td>Vector with 4 elements, .x, .y, .z, .w (alternatively .r, .g, .b, .a)</td>
						</tr>
					</table>
					<p>...</p>

					<h2 id="glsl-common-patterns">Common Patterns</h2>
					<p>...</p>

					<h2 id="glsl-built-in-functions">Built-in Functions</h2>
					<p>...</p>

					<h2 id="glsl-built-in-constants">Built-in Constants</h2>
					<p>...</p>

					<h2 id="glsl-preprocessor">Preprocessor</h2>
					<h4>Directives</h4>
					<p>...</p>
					<h4>Built-in Macros</h4>
					<p>...</p>
				</div>
			</div>
		</div>
	</div>

	<!-- libs -->
	<script type="text/javascript" charset="utf-8" src="js/ace/ace.js"></script>
	<script type="text/javascript" charset="utf-8" src="js/ace/ext-static_highlight.js"></script>
	<!--<script type="text/javascript" src="js/three/three.min.js"></script>-->

	<!-- app -->
	<script type="text/javascript" src="js/demo.js"></script>
	<script type="text/javascript" src="js/shader-preview.js"></script>
	<script type="text/javascript" src="js/ui.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
</body>
</html>